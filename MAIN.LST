C51 COMPILER V9.54   MAIN                                                                  03/18/2016 10:54:36 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN MAIN.OBJ
COMPILER INVOKED BY: D:\Keil_v5\C51\BIN\C51.EXE MAIN.C OBJECTADVANCED OPTIMIZE(8,SPEED) BROWSE NOINTPROMOTE DEFINE(START
                    -ERKIT) DEBUG TABS(2)

line level    source

   1          //****************************************************************************
   2          // @Module        Project Settings
   3          // @Filename      MAIN.C
   4          // @Project       TestBoard.dav
   5          //----------------------------------------------------------------------------
   6          // @Controller    Infineon XC888CLM-8FF
   7          //
   8          // @Compiler      Keil
   9          //
  10          // @Codegenerator 1.7
  11          //
  12          // @Description   This file contains the Project initialization function.
  13          //
  14          //----------------------------------------------------------------------------
  15          // @Date          2016/3/15 16:17:36
  16          //
  17          //****************************************************************************
  18          
  19          #include "MAIN.H"
  20          #include "DeviceController.h"
  21          #include "FlashUtils.h"
  22          
  23          #include <stdio.h>
  24          #include <string.h>
  25          
  26          char xdata UUID[100];
  27          
  28          bool shouldMonitorHVStatus = 0;
  29          
  30          void MAIN_vInit(void)
  31          {
  32   1        ///  -----------------------------------------------------------------------
  33   1        ///  Configuration of the System Clock:
  34   1        ///  -----------------------------------------------------------------------
  35   1        ///  - On Chip Osc is Selected
  36   1        ///  - PLL Mode, NDIV =  20
  37   1        ///  - input frequency is 9.6 MHz
  38   1      
  39   1        //   FCLK runs at 2 times the frequency of PCLK.
  40   1        SFR_PAGE(_su1, noSST);         // switch to page1
  41   1        CMCON         =  0x10;         // load Clock Control Register
  42   1        SFR_PAGE(_su0, noSST);         // switch to page0
  43   1      
  44   1      
  45   1        ///  *********************************************************************************
  46   1        ///  Note : All peripheral related IO configurations are done in the 
  47   1        ///  respective peripheral modules (alternate functions selection)
  48   1        ///  *********************************************************************************
  49   1      
  50   1        ///  Initialization of module 'GPIO'
  51   1        IO_vInit();
  52   1      
  53   1        ///  Initialization of module 'UART (Serial Interface)'
  54   1        UART_vInit();
C51 COMPILER V9.54   MAIN                                                                  03/18/2016 10:54:36 PAGE 2   

  55   1      
  56   1        //   Interrupt Priority
  57   1      
  58   1        IP            =  0x00;         // load Interrupt Priority Register
  59   1        IPH           =  0x00;         // load Interrupt Priority High Register
  60   1        IP1           =  0x00;         // load Interrupt Priority 1 Register
  61   1        IPH1          =  0x00;         // load Interrupt Priority 1 High Register
  62   1      
  63   1      
  64   1        //// Interrupt structure 2 mode 0 is selected.
  65   1        //// Interrupt service routine choice 2 is selected.
  66   1        //   globally enable interrupts
  67   1        EA            =  1;           
  68   1      
  69   1      } 
  70          void delay(int second) {
  71   1        int i, j, k;
  72   1        for (i = 0; i < second; i++) {
  73   2          for (j = 0; j < 25; j++) {
  74   3            for (k = 0; k < 30000; k++) {
  75   4            }
  76   3          }
  77   2        }
  78   1      }
  79          void main(void)
  80          {
  81   1        MAIN_vInit();
  82   1        
  83   1        while(1) {
  84   2          
  85   2          if (shouldMonitorHVStatus && !isAllHVRelayOK()) {
  86   3            sendUART("HV_NG\r\n");
  87   3          }
  88   2            
  89   2          delay(1);
  90   2        }
  91   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    132    ----
   CONSTANT SIZE    =      8    ----
   XDATA SIZE       =    100    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =      1    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
